{
   "annotations":{
      "list":[
         {
            "builtIn":1,
            "datasource":"-- Grafana --",
            "enable":true,
            "hide":true,
            "iconColor":"rgba(0, 211, 255, 1)",
            "name":"Annotations & Alerts",
            "type":"dashboard"
         }
      ]
   },
   "editable":true,
   "gnetId":null,
   "graphTooltip":1,
   "id":11,
   "iteration":1541977589528,
   "links":[

   ],
   "panels":[
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorValue":false,
         "colors":[
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
         ],
         "datasource":"$datasource",
         "decimals":null,
         "editable":true,
         "error":false,
         "format":"none",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":false
         },
         "gridPos":{
            "h":4,
            "w":12,
            "x":0,
            "y":0
         },
         "id":5,
         "interval":null,
         "links":[

         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"max(kube_deployment_spec_replicas{deployment=\"dolphin-backend\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
               "format":"time_series",
               "intervalFactor":2,
               "metric":"kube_deployment_spec_replicas",
               "refId":"A",
               "step":600
            }
         ],
         "thresholds":"",
         "title":"Dolphin Backend Pods",
         "type":"singlestat",
         "valueFontSize":"80%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"avg"
      },
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorValue":false,
         "colors":[
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
         ],
         "datasource":"$datasource",
         "editable":true,
         "error":false,
         "format":"none",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":4,
            "w":12,
            "x":12,
            "y":0
         },
         "id":6,
         "interval":null,
         "links":[

         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":false
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"min(kube_deployment_status_replicas_available{deployment=\"dolphin-frontend\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
               "format":"time_series",
               "intervalFactor":2,
               "refId":"A",
               "step":600
            }
         ],
         "thresholds":"",
         "title":"Dolphin News Frontend Pods",
         "type":"singlestat",
         "valueFontSize":"80%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"avg"
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"$datasource",
         "editable":true,
         "error":false,
         "fill":1,
         "grid":{

         },
         "gridPos":{
            "h":12,
            "w":24,
            "x":0,
            "y":4
         },
         "id":1,
         "legend":{
            "avg":false,
            "current":false,
            "hideZero":false,
            "max":false,
            "min":false,
            "show":true,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":2,
         "links":[

         ],
         "nullPointMode":"connected",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"min(kube_deployment_status_replicas_available{deployment=\"dolphin-backend\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
               "format":"time_series",
               "intervalFactor":2,
               "legendFormat":"available",
               "refId":"B",
               "step":30
            },
            {
               "expr":"min(kube_deployment_status_replicas_available{deployment=\"dolphin-frontend\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"Available Pods",
         "tooltip":{
            "msResolution":true,
            "shared":true,
            "sort":0,
            "value_type":"cumulative"
         },
         "transparent":false,
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"none",
               "label":"",
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":false
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"$datasource",
         "fill":1,
         "gridPos":{
            "h":4,
            "w":12,
            "x":0,
            "y":16
         },
         "id":8,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":true,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"http_request_duration_microseconds{endpoint=\"https\",handler=\"prometheus\",instance=\"173.249.7.246:6443\",job=\"apiserver\",namespace=\"default\",quantile=\"0.9\",service=\"kubernetes\"}",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"Response Time Frontend (Microseconds)",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"prometheus",
         "fill":1,
         "gridPos":{
            "h":4,
            "w":12,
            "x":12,
            "y":16
         },
         "id":10,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":true,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"0",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"Lost Posts (%)",
               "refId":"A"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeShift":null,
         "title":"Lost Posts",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      }
   ],
   "schemaVersion":16,
   "style":"dark",
   "tags":[

   ],
   "templating":{
      "list":[
         {
            "current":{
               "text":"prometheus",
               "value":"prometheus"
            },
            "hide":0,
            "label":null,
            "name":"datasource",
            "options":[

            ],
            "query":"prometheus",
            "refresh":1,
            "regex":"",
            "type":"datasource"
         },
         {
            "allValue":null,
            "current":{
               "text":"default",
               "value":"default"
            },
            "datasource":"$datasource",
            "hide":0,
            "includeAll":false,
            "label":"Namespace",
            "multi":false,
            "name":"deployment_namespace",
            "options":[

            ],
            "query":"label_values(kube_deployment_metadata_generation{job=\"kube-state-metrics\"}, namespace)",
            "refresh":2,
            "regex":"",
            "sort":0,
            "tagValuesQuery":"",
            "tags":[

            ],
            "tagsQuery":"",
            "type":"query",
            "useTags":false
         },
         {
            "allValue":null,
            "current":{
               "text":"dolphin-backend",
               "value":"dolphin-backend"
            },
            "datasource":"$datasource",
            "hide":0,
            "includeAll":false,
            "label":"Name",
            "multi":false,
            "name":"deployment_name",
            "options":[

            ],
            "query":"label_values(kube_deployment_metadata_generation{namespace=\"$deployment_namespace\"}, deployment)",
            "refresh":2,
            "regex":"",
            "sort":0,
            "tagValuesQuery":"",
            "tags":[

            ],
            "tagsQuery":"",
            "type":"query",
            "useTags":false
         }
      ]
   },
   "time":{
      "from":"now-6h",
      "to":"now"
   },
   "timepicker":{
      "refresh_intervals":[
         "5s",
         "10s",
         "30s",
         "1m",
         "5m",
         "15m",
         "30m",
         "1h",
         "2h",
         "1d"
      ],
      "time_options":[
         "5m",
         "15m",
         "1h",
         "6h",
         "12h",
         "24h",
         "2d",
         "7d",
         "30d"
      ]
   },
   "timezone":"browser",
   "title":"Dolphin",
   "uid":"dLQLH7Bmk",
   "version":2
}